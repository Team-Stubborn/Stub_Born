[gd_scene load_steps=37 format=3 uid="uid://bdxdef5wbtpsj"]

[ext_resource type="Texture2D" uid="uid://to1a6ghbqc3c" path="res://Assets/Player/MCRV.Falling.png" id="1_hjsxk"]
[ext_resource type="Texture2D" uid="uid://cyldampetkjek" path="res://Assets/Player/MCRV.Dash_Left.png" id="1_rvw3m"]
[ext_resource type="Texture2D" uid="uid://bi4yblx81hey7" path="res://Assets/Player/MCRV.Idle.png" id="2_08swr"]
[ext_resource type="Texture2D" uid="uid://cpqqqf8vxof76" path="res://Assets/Player/MCRV.Dash_Right.png" id="2_w8oqc"]
[ext_resource type="Texture2D" uid="uid://l3u44ljsyjyn" path="res://Assets/Player/MCRV.Jumping.png" id="3_h55c6"]
[ext_resource type="Texture2D" uid="uid://ymlb1arxonew" path="res://Assets/Player/MCRV.Run_Left.png" id="4_58ce2"]
[ext_resource type="Texture2D" uid="uid://dj52v2uv5geur" path="res://Assets/Player/MCRV.Ground_Pound.png" id="4_fem3m"]
[ext_resource type="Texture2D" uid="uid://68kl04535i78" path="res://Assets/Player/MCRV.Run_Right.png" id="5_sra11"]
[ext_resource type="Texture2D" uid="uid://dperiux80cvno" path="res://Assets/Player/MCRV.Push_Left.png" id="7_a8cut"]
[ext_resource type="Texture2D" uid="uid://88h0m6cthv37" path="res://Assets/Player/MCRV.Push_Right.png" id="8_4bu3n"]

[sub_resource type="GDScript" id="GDScript_hjsxk"]
script/source = "extends CharacterBody2D

#Variable
const runSpeed = 200
const Jump_Velocity = -400
var Jumps = 0
var DashT = 0.0
const DSpeed = 1500
var Djump = false
var Direction = Input.get_axis(\"Left\", \"Right\")
@onready var steve = %AnimatedSprite2D
@export var Pushing = false
var Gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")

func _physics_process(delta):
	#animations
	if velocity.y < 0:
		steve.animation = \"Jumping\"
	
	if velocity.y > 0:
		steve.animation = \"Falling\"
	
	if velocity.x < -1 and velocity.y == 0 and Pushing == false:
		steve.animation = \"RLeft\"
	
	if velocity.x > 1 and velocity.y == 0 and Pushing == false:
		steve.animation = \"RRight\"
	
	if velocity.x > -1 and velocity.x < 1 and velocity.y == 0 and Pushing == false:
		steve.animation = \"Idle\"
	
	if Pushing == true and velocity.x > 1:
		steve.animation = \"PRight\"
	
	if Pushing == true and velocity.x < -1:
		steve.animation = \"PLeft\"
	
	#Gravity
	if not is_on_floor():
		velocity.y += Gravity * delta
	
	#Handle movement
	if Input.is_action_just_pressed(\"Jump\"):
		if Jumps <= 1:
			velocity.y = Jump_Velocity
			Djump = true
			Jumps += 1
		elif Jumps >= 1:
			if !is_on_floor() and Djump == true:
				velocity.y += Jump_Velocity
				Jumps += 1
		if Jumps >= 2:
			Jumps = 0
		elif is_on_floor():
			Jumps = 0
		else:
			pass
	
	if Input.is_action_pressed(\"Left\"):
		velocity.x = -runSpeed
	
	if Input.is_action_pressed(\"Right\"):
		velocity.x = runSpeed
	
	if Input.is_action_just_pressed(\"Dash\"):
		pass
	
	velocity.x = move_toward(velocity.x, 0, 20)
	
	move_and_slide()
"

[sub_resource type="AtlasTexture" id="AtlasTexture_8atvr"]
atlas = ExtResource("1_rvw3m")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_1wfb3"]
atlas = ExtResource("2_w8oqc")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_rvw3m"]
atlas = ExtResource("1_hjsxk")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_5mjjj"]
atlas = ExtResource("4_fem3m")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_w8oqc"]
atlas = ExtResource("2_08swr")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_fem3m"]
atlas = ExtResource("2_08swr")
region = Rect2(8, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8cut"]
atlas = ExtResource("3_h55c6")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_r835y"]
atlas = ExtResource("7_a8cut")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_kdx23"]
atlas = ExtResource("7_a8cut")
region = Rect2(8, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_a5q0x"]
atlas = ExtResource("7_a8cut")
region = Rect2(16, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_p68q7"]
atlas = ExtResource("7_a8cut")
region = Rect2(24, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_hf4ak"]
atlas = ExtResource("8_4bu3n")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_ioghp"]
atlas = ExtResource("8_4bu3n")
region = Rect2(8, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_c4n1j"]
atlas = ExtResource("8_4bu3n")
region = Rect2(16, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_sn5m6"]
atlas = ExtResource("8_4bu3n")
region = Rect2(24, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_4bu3n"]
atlas = ExtResource("4_58ce2")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_fwv5w"]
atlas = ExtResource("4_58ce2")
region = Rect2(8, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_dd31x"]
atlas = ExtResource("4_58ce2")
region = Rect2(16, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_3ck22"]
atlas = ExtResource("4_58ce2")
region = Rect2(24, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_le7s2"]
atlas = ExtResource("5_sra11")
region = Rect2(0, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_yqyvg"]
atlas = ExtResource("5_sra11")
region = Rect2(8, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_tnmj8"]
atlas = ExtResource("5_sra11")
region = Rect2(16, 0, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_v5s2m"]
atlas = ExtResource("5_sra11")
region = Rect2(24, 0, 8, 8)

[sub_resource type="SpriteFrames" id="SpriteFrames_8atvr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8atvr")
}],
"loop": true,
"name": &"DLeft",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1wfb3")
}],
"loop": true,
"name": &"DRight",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rvw3m")
}],
"loop": true,
"name": &"Falling",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5mjjj")
}],
"loop": true,
"name": &"GPound",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_w8oqc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fem3m")
}],
"loop": true,
"name": &"Idle",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8cut")
}],
"loop": true,
"name": &"Jumping",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r835y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kdx23")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a5q0x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p68q7")
}],
"loop": true,
"name": &"PLeft",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hf4ak")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ioghp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4n1j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sn5m6")
}],
"loop": true,
"name": &"PRight",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4bu3n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fwv5w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dd31x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ck22")
}],
"loop": true,
"name": &"RLeft",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_le7s2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yqyvg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tnmj8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v5s2m")
}],
"loop": true,
"name": &"RRight",
"speed": 6.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1wfb3"]
size = Vector2(4.5, 6.75)

[node name="Steve" type="CharacterBody2D" groups=["Pusher"]]
script = SubResource("GDScript_hjsxk")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2.5, 2.5)
rotation_smoothing_enabled = true
rotation_smoothing_speed = 4.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
sprite_frames = SubResource("SpriteFrames_8atvr")
animation = &"DRight"
autoplay = "Idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 0.625)
shape = SubResource("RectangleShape2D_1wfb3")
